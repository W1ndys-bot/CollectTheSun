# CollectTheSun

来为 24 级新生收集阳光吧！每次收集阳光或雨水，都会随机增加 0-50 阳光或雨水。阳光减去雨水为有效阳光。
本玩法为限时娱乐玩法，适度娱乐，切勿当真。
数据全服互通，你的数据将会基于所有群聊的数据结算，切勿频繁刷分喔，否则会被关进小黑屋，玩法将于 9 月 14 日 0 点军训结束准时关服。
排行榜也是全服实时结算，偷偷告诉你，这是 W1ndys 第一次写全服互通和奇遇、排行榜的玩法，快来测测他有没有写出愚蠢的 bug。

特殊玩法：奇遇事件，群里的每一条消息都有 5% 的概率触发奇遇事件并收集 0-20 阳光或雨水。
（作者脑子已经炸了）

## 设计思路

- 检测时间，军训截止日期是 9 月 13 日，首先检测当前时间是否在 9 月 14 日之前，如果不在则不执行收集阳光，并提示军训已结束。

- 检测到指令，随机收集 1-50 点阳光，并记录该群收集阳光的次数。有 1% 的概率收集 100 点阳光。有 5% 的概率不收集阳光。群里的每一条消息都有 20% 的概率触发奇遇事件并收集 0-20 阳光。

- 以数据库存储，分别保存群号，用户 ID，收集阳光的次数，收集阳光的总量。群号和用户 ID 联合唯一确定一个用户。

## 指令

- `收集阳光|collectsun` 收集阳光，每次收集会给全服增加 0-50 点阳光
- `查看阳光|checksun` 查看阳光，查看全服阳光值、自己收集阳光值、本群收集阳光值
- `阳光排行榜|sunrankt` 查看排行榜，查看全服收集阳光排行榜
